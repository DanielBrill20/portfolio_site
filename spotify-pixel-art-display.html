<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify Pixel Art Display | Daniel Brill</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <style>
        .spotify-album-images {
            display: flex;
            gap: 25px;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
        }
        .spotify-album-images .image-with-caption {
            text-align: center;
        }
        .spotify-album-images .image-with-caption .caption {
            margin-top: 10px;
        }
        /* Side images: square 200x200 */
        .spotify-album-images .image-with-caption:nth-child(1) img,
        .spotify-album-images .image-with-caption:nth-child(3) img {
            width: 200px;
            height: 200px;
            object-fit: cover;
        }
        /* Middle image: larger, NOT cropped - natural aspect ratio */
        .spotify-album-images .image-with-caption:nth-child(2) img {
            width: auto;
            height: 280px;
            object-fit: contain;
        }
        
        /* Overview section: text LEFT, media RIGHT */
        .spotify-overview-layout {
            display: flex;
            gap: 50px;
            margin: 40px 0;
            align-items: flex-start;
        }
        .spotify-overview-layout .text-column {
            flex: 0 0 365px;
        }
        .spotify-overview-layout .media-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        .spotify-pi-image {
            width: 273px;
            height: 154px;
            object-fit: cover;
        }
        .spotify-gol-video-container {
            width: 460px;
            aspect-ratio: 16/9;
            position: relative;
        }
        .spotify-gol-video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        /* Technical Highlights - images on LEFT, text on RIGHT */
        .tech-highlights-layout {
            display: flex;
            gap: 50px;
            margin: 40px 0;
            align-items: center;
        }
        .tech-highlights-layout .images-column {
            flex: 0 0 auto;
        }
        .tech-highlights-layout .text-column {
            flex: 1;
        }
        
        /* Image collage for technical highlights */
        .tech-images-collage {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
        }
        /* Each row: rows centered horizontally */
        .tech-images-row-top,
        .tech-images-row-bottom {
            display: flex;
            gap: 20px;
        }
        .tech-images-row-top .image-with-caption,
        .tech-images-row-bottom .image-with-caption {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        .tech-images-row-top .image-with-caption .caption,
        .tech-images-row-bottom .image-with-caption .caption {
            margin-top: 8px;
        }
        /* Top row: use align-items center since captions are similar height */
        .tech-images-row-top {
            align-items: center;
        }
        /* Bottom row: center images vertically, captions don't affect centering */
        .tech-images-row-bottom {
            gap: 25px;
            align-items: center;
        }
        .tech-images-row-bottom .image-with-caption {
            position: relative;
        }
        .tech-images-row-bottom .image-with-caption .caption {
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
        }
        /* No extra margin needed - captions are absolutely positioned and overflow */
        
        @media (max-width: 992px) {
            .spotify-album-images {
                flex-wrap: wrap;
            }
            .spotify-album-images .image-with-caption:nth-child(1) img,
            .spotify-album-images .image-with-caption:nth-child(3) img {
                width: 150px;
                height: 150px;
            }
            .spotify-album-images .image-with-caption:nth-child(2) img {
                max-width: 100%;
                height: auto;
            }
            .spotify-overview-layout {
                flex-direction: column;
            }
            .spotify-overview-layout .text-column {
                flex: 1;
            }
            .spotify-overview-layout .media-column {
                width: 100%;
            }
            .spotify-gol-video-container {
                width: 100%;
                max-width: 100%;
            }
            .spotify-pi-image {
                max-width: 100%;
                height: auto;
            }
            .tech-highlights-layout {
                flex-direction: column;
            }
            /* Single column layout for tech highlight images on mobile */
            .tech-images-row-top,
            .tech-images-row-bottom {
                flex-direction: column;
                align-items: center;
            }
            .tech-images-row-top img,
            .tech-images-row-bottom img {
                max-width: 100%;
                height: auto !important;
                width: auto !important;
            }
            .tech-images-row-bottom .image-with-caption .caption {
                position: static;
                transform: none;
                white-space: normal;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <a href="index.html" class="logo">
            <img src="assets/daniel_brill_logo.png" alt="Daniel Brill Logo">
        </a>
        <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <ul class="nav-links">
            <li><a href="index.html#bio" class="nav-link">Bio</a></li>
            <li><a href="index.html#projects" class="nav-link">Projects</a></li>
            <li><a href="index.html#art" class="nav-link">Art</a></li>
        </ul>
    </nav>

    <main class="project-page">
        <!-- Project Header -->
        <header class="project-header">
            <h1>Spotify Pixel Art Display</h1>
            <a href="https://github.com/DanielBrill20/spotify-pixel-art-display" target="_blank" class="github-btn">View on GitHub</a>
        </header>

        <div class="project-content">
            <!-- Hero Video -->
            <div class="project-hero-media">
                <iframe src="https://player.vimeo.com/video/1147558667?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" referrerpolicy="strict-origin-when-cross-origin" title="matrix_song_demo"></iframe>
            </div>

            <!-- Description -->
            <div class="project-description">
                <p>My life revolves around music. I, like many others, correlate songs to pivotal moments in my life. And like many others, what I am listening to depends on the day's vibe. This project aims to dynamically incorporate music listening into home décor, instantly bringing personalization and variety into any space. Like a digital picture frame for your music, this 64x64 LED matrix displays a pixel art portrayal of the album cover for the song you're actively listening to on Spotify. When you're not listening to Spotify? The frame displays a mesmerizing, slowly fading rainbow gradient visualization of Conway's Game of Life to add ambiance to the room.</p>
            </div>

            <!-- Album Images -->
            <div class="spotify-album-images">
                <div class="image-with-caption">
                    <img src="assets/matrix_cover_1_cropped.jpg" alt="Flower Boy">
                    <p class="caption">Flower Boy</p>
                </div>
                <div class="image-with-caption">
                    <img src="assets/matrix_gol.jpg" alt="Conway's Game of Life">
                    <p class="caption">Conway's Game of Life</p>
                </div>
                <div class="image-with-caption">
                    <img src="assets/matrix_cover_2.jpg" alt="NOT ALL HEROES WEAR CAPES">
                    <p class="caption">NOT ALL HEROES<br>WEAR CAPES</p>
                </div>
            </div>

            <!-- Overview Section -->
            <section class="project-section">
                <h2>Overview</h2>
                <div class="spotify-overview-layout">
                    <div class="text-column">
                        <p>The core of the project is a backend Python server that repeatedly calls the Spotify Web API to get the currently playing track or podcast episode for the user. The script runs on a Raspberry Pi Zero 2 W that I plan on turning into a sort of "home assistant" and the hub for various IoT projects. Once the server detects a change in album cover, it prepares the image to be displayed on the LED matrix. It then sends the data via an HTTP request to an ESP32-S3, which controls the matrix. This has been a passion project of mine that I first dreamt up when I began my first year as a Computer Science student. I also used it as an opportunity to learn the <a href="https://github.com/mrcodetastic/ESP32-HUB75-MatrixPanel-DMA" target="_blank">ESP32-HUB75-MatrixPanel-DMA library</a>, more about the ESP-IDF framework, and embedded constraints like memory types and how to store large buffers.</p>
                    </div>
                    <div class="media-column">
                        <div class="image-with-caption">
                            <img src="assets/matrix_pi.jpg" alt="Raspberry Pi Zero 2 W" class="spotify-pi-image">
                            <p class="caption">Raspberry Pi Zero 2 W running the server</p>
                        </div>
                        <div class="spotify-gol-video-container">
                            <iframe src="https://player.vimeo.com/video/1147558569?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" referrerpolicy="strict-origin-when-cross-origin" title="matrix_gol_demo"></iframe>
                        </div>
                        <p class="caption">Game of Life demo</p>
                    </div>
                </div>
            </section>

            <!-- Technical Highlights Section -->
            <section class="project-section">
                <div class="tech-highlights-layout">
                    <div class="images-column">
                        <div class="tech-images-collage">
                            <!-- Top row: pinout and matrix setup - images vertically centered -->
                            <div class="tech-images-row-top">
                                <div class="image-with-caption">
                                    <img src="assets/matrix_pins.jpg" alt="ESP HUB75 pinout" style="width: 200px; height: 133px;">
                                    <p class="caption">ESP HUB75 pinout</p>
                                </div>
                                <div class="image-with-caption">
                                    <img src="assets/matrix_put_together.jpg" alt="Complete matrix setup" style="width: 200px; height: 200px;">
                                    <p class="caption">Complete matrix setup</p>
                                </div>
                            </div>
                            <!-- Bottom row: power, back, diffuser - images vertically centered -->
                            <div class="tech-images-row-bottom">
                                <div class="image-with-caption">
                                    <img src="assets/matrix_power_wires.jpg" alt="Power cables" style="width: 164px; height: 205px;">
                                    <p class="caption">Power cables</p>
                                </div>
                                <div class="image-with-caption">
                                    <img src="assets/matrix_back.jpg" alt="Back of matrix" style="width: 125px; height: 125px;">
                                    <p class="caption">Back of matrix</p>
                                </div>
                                <div class="image-with-caption">
                                    <img src="assets/matrix_acrylic.jpg" alt="Front of matrix with acrylic diffuser" style="width: 125px; height: 125px;">
                                    <p class="caption">Front of matrix with<br>acrylic diffuser</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="text-column">
                        <h2>Technical Highlights</h2>
                        <ul class="tech-highlights">
                            <li>The microcontroller utilizes a DMA (Direct Memory Access) double buffer for rapid and smooth drawing of images. While one image is being displayed with data in the front buffer, data can be loaded into the back buffer. Once the back buffer image is ready, the buffers are swapped for immediate frame transition. Otherwise, the user would see images being drawn line by line.</li>
                            <li>Both the server and firmware code are highly customizable, allowing for easy handling of various LED panel dimensions, pin mappings, etc. On the firmware side, there is a custom ESP-IDF "menuconfig" menu for no-code setup.</li>
                            <li>The firmware relies on numerous dependencies in the form of git submodules. Several conflicts arise that can be resolved through ESP-IDF's CMakeLists.txt files. To simplify development, I've added custom scripts to apply patches to each submodule and resolve conflicts.</li>
                            <li>Attached to the panel is a translucent piece of black acrylic, which acts as a slight diffuser screen, increases contrast, and hides unlit pixels.</li>
                        </ul>
                    </div>
                </div>
            </section>
            <!-- Future Features Section -->
            <section class="project-section">
                <h2>Future Features</h2>
                <p>I plan to continue this project for some time as I make it the ultimate décor piece. For one, I intend to learn CNC woodworking in order to make a polished, proper enclosure. I also have plans for a new screensaver—think digital clock meets Subway Surfers.</p>
            </section>
        </div>
    </main>

    <script src="js/main.js"></script>
</body>
</html>
